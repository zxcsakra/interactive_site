<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–∞–π—Ç–∞</title>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --text-color: #333;
            --card-bg: #ffffff;
            --card-shadow: rgba(0, 0, 0, 0.1);
            --accent-color: #4a6fa5;
            --button-bg: #4a6fa5;
            --button-text: #ffffff;
        }

        .dark-theme {
            --bg-color: #1a1a2e;
            --text-color: #e6e6e6;
            --card-bg: #16213e;
            --card-shadow: rgba(0, 0, 0, 0.3);
            --accent-color: #0f3460;
            --button-bg: #0f3460;
            --button-text: #e6e6e6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(74, 111, 165, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(15, 52, 96, 0.1) 0%, transparent 20%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--accent-color);
        }

        h1 {
            font-size: 2.5rem;
            color: var(--accent-color);
        }

        .theme-toggle {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .theme-toggle:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .edit-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 10px var(--card-shadow);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .edit-toggle:hover {
            transform: scale(1.1);
        }

        .content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .card.editable {
            border: 2px dashed var(--accent-color);
        }

        .card h2 {
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .card p {
            margin-bottom: 15px;
        }

        .card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
            cursor: pointer;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: var(--card-bg);
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            padding: 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .modal-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-color);
            cursor: pointer;
        }

        .edit-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100%;
            background-color: var(--card-bg);
            box-shadow: -5px 0 15px var(--card-shadow);
            padding: 30px;
            overflow-y: auto;
            transition: right 0.3s ease;
            z-index: 999;
        }

        .edit-panel.active {
            right: 0;
        }

        .edit-panel h2 {
            margin-bottom: 20px;
            color: var(--accent-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--accent-color);
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .btn {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .btn-danger {
            background-color: #e74c3c;
        }

        .card-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: none;
        }

        .editing .card-actions {
            display: block;
        }

        .card-action-btn {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            margin-left: 5px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
        }

        .image-upload {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .image-preview {
            max-width: 100%;
            max-height: 150px;
            object-fit: contain;
            border-radius: 5px;
            display: none;
        }

        .save-indicator {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background-color: var(--button-bg);
            color: var(--button-text);
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1001;
        }

        .save-indicator.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .edit-panel {
                width: 100%;
                right: -100%;
            }
            
            .content {
                grid-template-columns: 1fr;
            }
            
            .save-indicator {
                bottom: 100px;
                left: 20px;
                right: 20px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–ú–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç</h1>
            <button class="theme-toggle" id="themeToggle">
                <span id="themeIcon">üåô</span> <span id="themeText">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
            </button>
        </header>

        <main>
            <div class="content" id="contentArea">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </main>
    </div>

    <button class="edit-toggle" id="editToggle">‚úèÔ∏è</button>
    <div class="save-indicator" id="saveIndicator">–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!</div>

    <div class="edit-panel" id="editPanel">
        <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞</h2>
        
        <div class="form-group">
            <label for="cardTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏</label>
            <input type="text" id="cardTitle" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫">
        </div>
        
        <div class="form-group">
            <label for="cardText">–¢–µ–∫—Å—Ç –∫–∞—Ä—Ç–æ—á–∫–∏</label>
            <textarea id="cardText" class="form-control" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç"></textarea>
        </div>
        
        <div class="form-group">
            <label for="cardImage">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
            <div class="image-upload">
                <input type="file" id="cardImage" class="form-control" accept="image/*">
                <img id="imagePreview" class="image-preview" src="" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
            </div>
        </div>
        
        <div class="form-group">
            <button class="btn" id="addCardBtn">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</button>
            <button class="btn" id="updateCardBtn" style="display: none;">–û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</button>
            <button class="btn btn-danger" id="cancelEditBtn" style="display: none;">–û—Ç–º–µ–Ω–∞</button>
        </div>
        
        <div class="form-group">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏</h3>
            <p>–í —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.</p>
        </div>
        
        <div class="form-group">
            <h3>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h3>
            <button class="btn" id="exportDataBtn">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
            <button class="btn" id="importDataBtn">–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
            <input type="file" id="importFile" accept=".json" style="display: none;">
        </div>
    </div>

    <div class="modal" id="imageModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <img src="" alt="" class="modal-image" id="modalImage">
            <h2 id="modalTitle"></h2>
            <p id="modalDescription"></p>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const themeText = document.getElementById('themeText');
        const editToggle = document.getElementById('editToggle');
        const editPanel = document.getElementById('editPanel');
        const contentArea = document.getElementById('contentArea');
        const addCardBtn = document.getElementById('addCardBtn');
        const updateCardBtn = document.getElementById('updateCardBtn');
        const cancelEditBtn = document.getElementById('cancelEditBtn');
        const cardTitle = document.getElementById('cardTitle');
        const cardText = document.getElementById('cardText');
        const cardImage = document.getElementById('cardImage');
        const imagePreview = document.getElementById('imagePreview');
        const imageModal = document.getElementById('imageModal');
        const modalClose = document.getElementById('modalClose');
        const modalImage = document.getElementById('modalImage');
        const modalTitle = document.getElementById('modalTitle');
        const modalDescription = document.getElementById('modalDescription');
        const saveIndicator = document.getElementById('saveIndicator');
        const exportDataBtn = document.getElementById('exportDataBtn');
        const importDataBtn = document.getElementById('importDataBtn');
        const importFile = document.getElementById('importFile');

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        let isEditing = false;
        let currentEditingCard = null;
        let nextCardId = 1;
        let saveTimeout = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            loadTheme();
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            
            if (document.body.classList.contains('dark-theme')) {
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.textContent = 'üåô';
                themeText.textContent = '–¢–µ–º–Ω–∞—è —Ç–µ–º–∞';
                localStorage.setItem('theme', 'light');
            }
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã –∏–∑ localStorage
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        editToggle.addEventListener('click', () => {
            isEditing = !isEditing;
            document.body.classList.toggle('editing', isEditing);
            editPanel.classList.toggle('active', isEditing);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–ª–∏ —É–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å editable –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
            document.querySelectorAll('.card').forEach(card => {
                card.classList.toggle('editable', isEditing);
            });
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            resetEditForm();
        });

        // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        cardImage.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    imagePreview.src = e.target.result;
                    imagePreview.style.display = 'block';
                }
                
                reader.readAsDataURL(this.files[0]);
            }
        });

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
        addCardBtn.addEventListener('click', () => {
            const title = cardTitle.value.trim();
            const text = cardText.value.trim();
            const imageSrc = imagePreview.src || '';
            
            if (!title) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏');
                return;
            }
            
            createCard(title, text, imageSrc);
            resetEditForm();
            saveData();
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ä—Ç–æ—á–∫–∏
        updateCardBtn.addEventListener('click', () => {
            if (!currentEditingCard) return;
            
            const title = cardTitle.value.trim();
            const text = cardText.value.trim();
            const imageSrc = imagePreview.src || currentEditingCard.querySelector('.card-image')?.src || '';
            
            if (!title) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏');
                return;
            }
            
            updateCard(currentEditingCard, title, text, imageSrc);
            resetEditForm();
            saveData();
        });

        // –û—Ç–º–µ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        cancelEditBtn.addEventListener('click', resetEditForm);

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        modalClose.addEventListener('click', () => {
            imageModal.style.display = 'none';
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        imageModal.addEventListener('click', (e) => {
            if (e.target === imageModal) {
                imageModal.style.display = 'none';
            }
        });

        // –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
        exportDataBtn.addEventListener('click', () => {
            const data = getSiteData();
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'site-data.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showSaveIndicator('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
        });

        // –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
        importDataBtn.addEventListener('click', () => {
            importFile.click();
        });

        importFile.addEventListener('change', function(e) {
            if (this.files && this.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        loadSiteData(data);
                        showSaveIndicator('–î–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
                    } catch (error) {
                        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞');
                    }
                }
                
                reader.readAsText(this.files[0]);
                this.value = ''; // –°–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏—è input
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
        contentArea.addEventListener('click', (e) => {
            // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
            if (e.target.classList.contains('edit-card')) {
                const card = e.target.closest('.card');
                editCard(card);
            }
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
            if (e.target.classList.contains('delete-card')) {
                const card = e.target.closest('.card');
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–∞—Ä—Ç–æ—á–∫—É?')) {
                    card.remove();
                    saveData();
                }
            }
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            if (e.target.classList.contains('card-image')) {
                const card = e.target.closest('.card');
                const title = card.querySelector('h2').textContent;
                const description = card.querySelector('p').textContent;
                const imageSrc = e.target.src;
                
                openImageModal(imageSrc, title, description);
            }
        });

        // –§—É–Ω–∫—Ü–∏–∏
        function createCard(title, text, imageSrc) {
            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.id = nextCardId++;
            
            card.innerHTML = `
                <h2>${title}</h2>
                <p>${text}</p>
                ${imageSrc ? `<img src="${imageSrc}" alt="${title}" class="card-image">` : ''}
                <div class="card-actions">
                    <button class="card-action-btn edit-card">‚úèÔ∏è</button>
                    <button class="card-action-btn delete-card">üóëÔ∏è</button>
                </div>
            `;
            
            contentArea.appendChild(card);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å editable, –µ—Å–ª–∏ –º—ã –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            if (isEditing) {
                card.classList.add('editable');
            }
        }

        function editCard(card) {
            currentEditingCard = card;
            
            const title = card.querySelector('h2').textContent;
            const text = card.querySelector('p').textContent;
            const image = card.querySelector('.card-image');
            const imageSrc = image ? image.src : '';
            
            cardTitle.value = title;
            cardText.value = text;
            
            if (imageSrc) {
                imagePreview.src = imageSrc;
                imagePreview.style.display = 'block';
            } else {
                imagePreview.style.display = 'none';
            }
            
            addCardBtn.style.display = 'none';
            updateCardBtn.style.display = 'inline-block';
            cancelEditBtn.style.display = 'inline-block';
        }

        function updateCard(card, title, text, imageSrc) {
            card.querySelector('h2').textContent = title;
            card.querySelector('p').textContent = text;
            
            let image = card.querySelector('.card-image');
            if (imageSrc) {
                if (image) {
                    image.src = imageSrc;
                    image.alt = title;
                } else {
                    image = document.createElement('img');
                    image.className = 'card-image';
                    image.src = imageSrc;
                    image.alt = title;
                    card.querySelector('p').after(image);
                }
            } else if (image) {
                image.remove();
            }
            
            currentEditingCard = null;
        }

        function resetEditForm() {
            cardTitle.value = '';
            cardText.value = '';
            cardImage.value = '';
            imagePreview.style.display = 'none';
            
            addCardBtn.style.display = 'inline-block';
            updateCardBtn.style.display = 'none';
            cancelEditBtn.style.display = 'none';
            
            currentEditingCard = null;
        }

        function openImageModal(imageSrc, title, description) {
            modalImage.src = imageSrc;
            modalTitle.textContent = title;
            modalDescription.textContent = description;
            imageModal.style.display = 'flex';
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
        function saveData() {
            const data = getSiteData();
            localStorage.setItem('siteData', JSON.stringify(data));
            
            // –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è GitHub (–∏–º–∏—Ç–∞—Ü–∏—è)
            if (saveTimeout) clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                showSaveIndicator('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
            }, 500);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
        function loadData() {
            const savedData = localStorage.getItem('siteData');
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    loadSiteData(data);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error);
                    // –°–æ–∑–¥–∞–µ–º –¥–µ–º–æ-–∫–∞—Ä—Ç–æ—á–∫–∏, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
                    createDemoCards();
                }
            } else {
                // –°–æ–∑–¥–∞–µ–º –¥–µ–º–æ-–∫–∞—Ä—Ç–æ—á–∫–∏, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
                createDemoCards();
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞
        function getSiteData() {
            const cards = [];
            document.querySelectorAll('.card').forEach(card => {
                const title = card.querySelector('h2').textContent;
                const text = card.querySelector('p').textContent;
                const image = card.querySelector('.card-image');
                const imageSrc = image ? image.src : '';
                
                cards.push({
                    title,
                    text,
                    imageSrc
                });
            });
            
            return {
                cards,
                nextCardId,
                theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light'
            };
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞
        function loadSiteData(data) {
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            contentArea.innerHTML = '';
            nextCardId = 1;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
            if (data.cards && data.cards.length > 0) {
                data.cards.forEach(cardData => {
                    createCard(cardData.title, cardData.text, cardData.imageSrc);
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º nextCardId
            if (data.nextCardId) {
                nextCardId = data.nextCardId;
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–º–æ-–∫–∞—Ä—Ç–æ—á–µ–∫
        function createDemoCards() {
            createCard(
                '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', 
                '–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏. –í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –¥–æ–±–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω—è—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Å–∞–π—Ç–∞.',
                'https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            );
            
            createCard(
                '–û –ø—Ä–æ–µ–∫—Ç–µ', 
                '–≠—Ç–æ—Ç —Å–∞–π—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –µ–≥–æ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.',
                'https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            );
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function showSaveIndicator(message) {
            saveIndicator.textContent = message;
            saveIndicator.classList.add('show');
            
            setTimeout(() => {
                saveIndicator.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
